{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const apiKey = '43797982-65d97265afa84a551e725288a';\n\nexport async function fetchImages(query) {\n  const url = `https://pixabay.com/api/?key=${apiKey}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`;\n  \n  try {\n    const response = await fetch(url);\n    if (!response.ok) {\n      throw new Error('Sorry, there are no images matching your search query. Please try again!');\n    }\n    const data = await response.json();\n    return data.hits;\n  } catch (error) {\n    console.error(error);\n    return [];    \n  }  \n}","\nexport function renderImages(images) {\n    const gallery = document.querySelector('.js-gallery');\n    gallery.innerHTML = images.map(image => `\n        <div class=\"card\">\n        <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n            <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" class=\"gallery-img img-fluid\" />\n           </a>\n                <div class=\"card-info\">\n                    <p class=\"card-text\">Likes: ${image.likes}</p>\n                    <p class=\"card-text\">Views: ${image.views}</p>\n                    <p class=\"card-text\">Comments: ${image.comments}</p>\n                    <p class=\"card-text\">Downloads: ${image.downloads}</p>\n                </div>\n            </div>\n        </div>\n    `).join('');\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport { fetchImages } from \"./js/pixabay-api.js\";\nimport { renderImages } from \"./js/render-functions.js\";\n\nconst searchForm = document.querySelector('.js-search-form');\nconst galleryEl = document.querySelector('.js-gallery');\nconst loaderEl = document.querySelector('.js-loader');\n\nsearchForm.addEventListener('submit', (event) => {\n    event.preventDefault();\n    \n    const searchInput = document.querySelector('.js-search-input');\n    const query = searchInput.value.trim();\n\n    if (query.trim() === '') {\n        galleryEl.innerHTML = '';\n        event.target.reset();\n        iziToast.error({\n            title: 'Error',\n            message: 'Please enter a search query',\n        });\n        return;\n    }\n\n    \n    loaderEl.classList.remove('is-hidden');\n    galleryEl.innerHTML = '';\n\n    fetchImages(query)\n        .then(images => {\n            if (images.length === 0) {\n                iziToast.info({\n                    title: 'Info',\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                });\n                galleryEl.innerHTML = '';\n            } else {\n                renderImages(images);\n                const lightbox = new SimpleLightbox('.gallery a');\n            lightbox.refresh();\n            }\n        })\n        .catch(error => {\n            console.error(error);\n            iziToast.error({\n                title: 'Error',\n                message: 'Failed to fetch images. Please try again later.',\n            });\n        })\n        .finally(() => {            \n            loaderEl.classList.add('is-hidden');\n            event.target.reset();\n            \n        });\n        \n});\n\n"],"names":["apiKey","fetchImages","query","url","response","error","renderImages","images","gallery","image","searchForm","galleryEl","loaderEl","event","iziToast","SimpleLightbox"],"mappings":"wvBAAA,MAAMA,EAAS,qCAER,eAAeC,EAAYC,EAAO,CACvC,MAAMC,EAAM,gCAAgCH,CAAM,MAAME,CAAK,2DAE7D,GAAI,CACF,MAAME,EAAW,MAAM,MAAMD,CAAG,EAChC,GAAI,CAACC,EAAS,GACZ,MAAM,IAAI,MAAM,0EAA0E,EAG5F,OADa,MAAMA,EAAS,QAChB,IACb,OAAQC,EAAO,CACd,eAAQ,MAAMA,CAAK,EACZ,EACR,CACH,CCfO,SAASC,EAAaC,EAAQ,CACjC,MAAMC,EAAU,SAAS,cAAc,aAAa,EACpDA,EAAQ,UAAYD,EAAO,IAAIE,GAAS;AAAA;AAAA,wCAEJA,EAAM,aAAa;AAAA,wBACnCA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,kDAGZA,EAAM,KAAK;AAAA,kDACXA,EAAM,KAAK;AAAA,qDACRA,EAAM,QAAQ;AAAA,sDACbA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,KAIhE,EAAE,KAAK,EAAE,CACd,CCVA,MAAMC,EAAa,SAAS,cAAc,iBAAiB,EACrDC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAW,SAAS,cAAc,YAAY,EAEpDF,EAAW,iBAAiB,SAAWG,GAAU,CAC7CA,EAAM,eAAc,EAGpB,MAAMX,EADc,SAAS,cAAc,kBAAkB,EACnC,MAAM,KAAI,EAEpC,GAAIA,EAAM,KAAM,IAAK,GAAI,CACrBS,EAAU,UAAY,GACtBE,EAAM,OAAO,QACbC,EAAS,MAAM,CACX,MAAO,QACP,QAAS,6BACrB,CAAS,EACD,MACH,CAGDF,EAAS,UAAU,OAAO,WAAW,EACrCD,EAAU,UAAY,GAEtBV,EAAYC,CAAK,EACZ,KAAKK,GAAU,CACRA,EAAO,SAAW,GAClBO,EAAS,KAAK,CACV,MAAO,OACP,QAAS,0EAC7B,CAAiB,EACDH,EAAU,UAAY,KAEtBL,EAAaC,CAAM,EACF,IAAIQ,EAAe,YAAY,EAC3C,QAAO,EAE5B,CAAS,EACA,MAAMV,GAAS,CACZ,QAAQ,MAAMA,CAAK,EACnBS,EAAS,MAAM,CACX,MAAO,QACP,QAAS,iDACzB,CAAa,CACb,CAAS,EACA,QAAQ,IAAM,CACXF,EAAS,UAAU,IAAI,WAAW,EAClCC,EAAM,OAAO,OAEzB,CAAS,CAET,CAAC"}